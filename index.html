<!DOCTYPE html>
<html lang="es">
<head>
  <!-- ... (todo el head se mantiene igual) ... -->
</head>
<body>
  <!-- ... (todo el contenido anterior se mantiene igual hasta el buttons-container) ... -->

  <div class="buttons-container">
    <div class="button" id="clientes-btn">
      <i class="fas fa-users"></i>
      CLIENTES
    </div>
    <div class="button">
      <i class="fas fa-cash-register"></i>
      VENTAS
    </div>
    <div class="button">
      <i class="fas fa-box"></i>
      PRODUCTOS
    </div>
    <div class="button">
      <i class="fas fa-cogs"></i>
      UTILIDADES
    </div>
    <div class="button">
      <i class="fas fa-cog"></i>
      AJUSTES
    </div>
    <div class="button">
      <i class="fas fa-sign-out-alt"></i>
      SALIR
    </div>
    <!-- ▼▼▼ Nuevo botón de prueba Firebase ▼▼▼ -->
    <div class="button" id="test-firebase" style="background-color: #4285f4;">
      <i class="fas fa-database"></i>
      PROBAR FIREBASE
    </div>
  </div>

  <!-- ... (el resto de tu HTML se mantiene igual) ... -->

  <!-- ▼▼▼ Firebase SDK + Configuración ▼▼▼ -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>
  <script>
    // Configuración de Firebase (¡REEMPLAZA con tus datos!)
    const firebaseConfig = {
      apiKey: "AIzaSyAg5z1F4Dx6z9x0VHrBc45gnzgBm0Sa65s",
      authDomain: "tc-1-81110.firebaseapp.com",
      projectId: "tc-1-81110",
      storageBucket: "tc-1-81110.appspot.com",
      messagingSenderId: "1020958300613",
      appId: "1:1020958300613:web:0f95e201916b1c5ea153ac"
    };

    // Inicializa Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Función para enviar comandos
    window.enviarComando = async (accion) => {
      try {
        await db.collection("comandos").doc("ultimo").set({
          accion: accion,
          fecha: firebase.firestore.FieldValue.serverTimestamp(),
          usuario: "AXEL GONZÁLEZ"
        });
        console.log("Comando enviado:", accion);
        alert("✅ Comando registrado en Firebase");
      } catch (error) {
        console.error("Error:", error);
        alert("❌ Fallo al enviar comando. Ver consola.");
      }
    };

    // ▼▼▼ Función para el botón de prueba Firebase ▼▼▼
    document.getElementById('test-firebase').addEventListener('click', async () => {
      const testBtn = document.getElementById('test-firebase');
      testBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Probando...';
      
      try {
        // Intenta escribir en una colección de pruebas
        await db.collection("pruebas_firebase").doc("test").set({
          prueba: "conexión_exitosa",
          timestamp: firebase.firestore.FieldValue.serverTimestamp()
        });
        
        // Cambia a verde si funciona
        testBtn.innerHTML = '<i class="fas fa-check-circle"></i> Firebase OK';
        testBtn.style.backgroundColor = "#4caf50";
        alert("✅ Conexión con Firebase funciona correctamente!\nVerifica la colección 'pruebas_firebase' en Firebase Console.");
      
      } catch (error) {
        // Cambia a rojo si falla
        testBtn.innerHTML = '<i class="fas fa-times-circle"></i> Error Firebase';
        testBtn.style.backgroundColor = "#f44336";
        alert(`❌ Error en Firebase:\n${error.message}\n\nRevisa:\n1. Tu conexión a internet\n2. Las reglas de Firestore\n3. La configuración de Firebase`);
        console.error("Detalle del error:", error);
      }
      
      // Vuelve al estado original después de 3 segundos
      setTimeout(() => {
        testBtn.innerHTML = '<i class="fas fa-database"></i> PROBAR FIREBASE';
        testBtn.style.backgroundColor = "#4285f4";
      }, 3000);
    });
  </script>

  <!-- ... (el resto de tu JavaScript se mantiene igual) ... -->
</body>
</html>
